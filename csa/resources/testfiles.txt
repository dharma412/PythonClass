*** Keywords ***
Create Simple Text File
  [Documentation]  This keyword creates text file
  ...  ${CLIENT_HOSTNAME}:${DIR_WITH_FILES_FOR_UPLOAD}/${TEST_FILE}\n
  ...  for test case file-transfer operations.
  ${cmd}=  Set Variable
  ...  man cp > ${DIR_WITH_FILES_FOR_UPLOAD}/${TEST_FILE}
  Run Command On FTP Client  ${cmd}

Create 100mb Text File
  ${cmd}=  Set Variable
  ...  base64 -e /dev/random | tr -d '+/\r\n0-9' | head -c 104857600 > ${DIR_WITH_FILES_FOR_UPLOAD}/${TEST_PUT_FILE}
  Run Command On FTP Client  ${cmd}

Create Text File With Size
  [Documentation]  Creates text file with specified size in megabytes.
  [Arguments]  ${filepath}  ${size}=1
  ${cmd}=  Set Variable
  ...  base64 -e /dev/random | tr -d '+/\r\n0-9' | head -c `dc -e '1024 1024 * sc ${size} lc * p'` > ${filepath}
  Run Command On FTP Client  ${cmd}

Delete File
  [Documentation]  This keyword deletes file on specified host.
  [Arguments]  ${hostname}  ${username}  ${password}  ${filepath}
  Open Connection  ${hostname}
  Login  ${username}  ${password}
  ${out}=  Execute Command  rm -f ${filepath}
  Log  ${out}
  Close Connection

Create File
  [Documentation]  This keyword creates file on specified host.
  [Arguments]  ${hostname}  ${username}  ${password}  ${full_file_path}  ${file_size}
  Open Connection  ${hostname}
  Login  ${username}  ${password}
  ${truncate}=  Set Variable  truncate -s ${file_size} ${full_file_path}
  Execute Command  ${truncate}
  Close Connection

Create Binary File With Size
    [Documentation]  This keyword creates binary file with custom size
    ...              ${CLIENT_HOSTNAME}:${DIR_WITH_FILES_FOR_UPLOAD}/${TEST_FILE}\n
    ...              for test case file-transfer operations.
    [Arguments]  ${size}
    Create File  ${CLIENT_HOSTNAME}  ${TESTUSER}  ${TESTUSER_PASSWORD}
    ...  ${DIR_WITH_FILES_FOR_UPLOAD}/${TEST_FILE}  ${size}

Upload Badware File To FTP Server
    [Documentation]  This keyword downloads ${TEST_FILE} from services.wga to\n
    ...              ${FTP_SERVER}:${FTP_SERVER_ROOT_DIR}
    [Arguments]
    ...  ${TEST_FILE}=${TEST_FILE}
    ...  ${FTP_SERVER_DESTINATION_DIR}=${FTP_SERVER_ROOT_DIR}
    Open Connection     ${FTP_SERVER}
    Login  ${FTPUSER}  ${FTPUSER_PASSWORD}
    Execute Command
    ...  cd ${FTP_SERVER_DESTINATION_DIR} && wget http://${SERVICE_SERVER}/malware/${TEST_FILE}
    Close Connection
